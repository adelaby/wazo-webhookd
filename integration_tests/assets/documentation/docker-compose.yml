sync:
  image: n3llyb0y/wait
  links:
    - postgres
    - swagger-validator
    - webhookd
  environment:
    PORTS: "5432 9300 8080"
    TIMEOUT: "${INTEGRATION_TEST_TIMEOUT}"

postgres:
  image: wazopbx/wazo-webhookd-db
  expose:
    - "5432"

webhookd:
  image: "wazo-webhookd-test"
  environment:
    - XIVO_UUID=cd030e68-ace9-4ad4-bc4e-13c8dec67898
  volumes:
    - "../../..:/usr/src/wazo-webhookd"
    - "./etc/wazo-webhookd:/etc/wazo-webhookd"
  ports:
    - "9300"
  links:
    - postgres

swagger-validator:
  image: swaggerapi/swagger-validator
  ports:
    - "8080"
  links:
    - webhookd
